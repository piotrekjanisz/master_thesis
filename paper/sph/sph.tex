
% this file is called up by thesis.tex
% content in this file will be fed into the main document

%: ----------------------- introduction file header -----------------------
\chapter{SPH}


\graphicspath{{sph/figures/}}

This chapter will provide brief introduction to modeling method used in my project - Smoothed Particle Hydrodynamics (SPH).

\section{Introduction}
To perform numerical simulation of natural phenomena several steps have to be performed (see \cite[section 1.1.2]{Liu}). First the mathematical model has to be obtained from observation of physical phenomena. The mathematical model consists of a set of governing equations, boundary conditions and initial conditions. Next governing equations have to be discretized in order to solve them with a numerical algorithm.
For describing physical governing equations two basic techniques exists: Eulerian description and Lagrarian description. First represents 

For describing governing equations of fluid flows two basic techniques exists: Lagrarian and Eulerian. In the first one we look at the fluid as a set of parcels which moves though space and time. Each fluid parcel has it's own mass which is fixed, and is identified by it's position $x_0$ at time $t = 0$. We also assume that we can obtain a function of fluid parcels position $x = x(t, x_0)$. 
Eulerian description assumes that we observe fluid that moves through fixed spatial points. Thus we are given velocity field $v$ at every spatial point $x$ and time $t$ - $v = v(x, t)$. 

For discretization there are several approaches: grid based (lagrarian grid and eulerian grid) and meshfree methods (SPH, particle in cell).

TODO: references!!!!

\section{Fundamentals}

\begin{equation}
\label{eq:sph_interpolant}
A_I(r) = \int A(r')W(r - r', h)dr'
\end{equation}

\begin{equation}
\label{eq:sph_kernel_property_1}
\int W(r - r', h)dr' = 1
\end{equation}

\begin{equation}
\label{eq:sph_kernel_property_2}
\lim_{h \to 1}W(r - r', h) = \delta(r-r')
\end{equation}

\begin{equation}
\label{eq:sumation_interpolant}
A_s(r) = \sum_{b}m_b\frac{A_b}{\rho_b}W(r-r_b,h)
\end{equation}

\begin{equation}
\label{eq:sumation_interpolant_gradient}
\triangledown A_s(r) = \sum_{b}m_b\frac{A_b}{\rho_b}\triangledown W(r-r_b,h) 
\end{equation}

SPH is a interpolation method - does not uses a grid (MESHFREE), approximates fluid or other materials as a set of particles. Requires less resources comparing to grid methods when it comes to such phenomenas as splasches or breaking waves. 

TODO integral interpolant of any function
TODO sumation interpolant

eulerian methods - computed on fixed grid
	grid has to cover entire area to which the material can possibly flow. 
	hard to track surface - we have only field values at fixed grid points. 

SPH moves differentiation from field function to smoothing function

SPH first used by Leon Lucy and R. A. Gingold and J. J. Monaghan

Different kernels can be used for different computations.
SPH equations needs to be symmetrized.

paper on astrophysics from 1992 (Monaghan1992) - \cite{Monaghan1992}

book about sph (Liu) - \cite{Liu}

Particle based simulations for interactive applications (Muller2003) - \cite{Muller2003}

\section{SPH for fluids}

Navier-Stokes equations: 
 - continuity, 
 - momentum conservation, 
 - energy conservation
For SPH first one is not necessary and for fluid simulation in games energy conservation equation can be discarded as we only interested in fluid movement, not temperature (we can assume the temperature is constant). 